<!DOCTYPE html>
<html>
  <head>
    <style type='text/css'>
      .test {
        width: 100px;
        height: 100px;
      }

      #test1 {
        background: red;
      }

      #test1:hover {
        background: blue;
      }

      #test2 {
        background: yellow;
      }

      .button {
        width: 100px;
      }

      #unused:hover, #test2:hover, #test2 > a:hover, div > span.unused:hover {
        background: purple;
      }
    </style>
    <script src='../pseudostyler.js' type='text/javascript'></script>
  </head>
  <body>
    <div>
      <div id='test1' class='test'></div>
      <button id='button1' class='button'>Click</button>
    </div>
    <div>
      <div id='test2' class='test'></div>
      <button id='button2' class='button'>Click</button>
    </div>
    <script type='text/javascript'>
      (async () => {
        let styler = new PseudoStyler();
        await styler.loadDocumentStyles();
        document.querySelectorAll('.button').forEach(button => {
          button.addEventListener('click', () => {
            let tester = button.previousElementSibling;
            styler.toggleStyle(tester, ':hover');
          })
        })
      })();
    </script>
  </body>
</html>
